<!DOCTYPE html>
<!--
 Copyright (c) 2020 Nadav Tasher
 https://github.com/NadavTasher/Template/
-->
<html row stretch lang="en">

<head>
    <!-- Charset -->
    <meta charset="UTF-8" />

    <!-- App Description -->
    <meta name="description" content="Simple goal tracker." />

    <!-- Viewport -->
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=5, user-scalable=yes, minimal-ui" />

    <!-- Mobile -->
    <meta name="theme-color" content="#FFFFFF" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- Mobile Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Goalie" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Icons -->
    <link rel="icon"
        href="data:image/png;base64,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" />
    <link rel="apple-touch-icon"
        href="data:image/png;base64,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" />

    <!-- Repositories -->
    <meta name="repository-internal" content="modules/internal" />
    <meta name="repository-external" content="modules/external" />

    <!-- Template stylesheet -->
    <link rel="stylesheet" href="template/template.css" />

    <!-- Template scripts  -->
    <script type="text/javascript" src="template/template.js"></script>

    <!-- Application stylesheet -->
    <style>
        :root {
            --theme: #000000;
            --passive: #bbbbbb;
            --active: #ffffff;
            --coaster: #111111;
        }

        body {
            max-width: 500px;
        }

        * {
            font-family: monospace !important;
        }
    </style>

    <!-- Application script -->
    <script type="text/javascript">

        const DAY = (1000 * 60 * 60 * 24);
        const MONTH = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        const EPOCH = (date) => Math.floor(date.getTime() / DAY);

        window.addEventListener("load", async function () {
            // Import modules
            await Module.import("API", "UI", "External:Dialog");

            // Change the view
            if (localStorage.token) {
                API.call("goalie", "fetch", {
                    token: localStorage.token
                }).then(
                    (data) => {
                        // Load current status
                        let today = new Date();

                        // Check whether date is defined
                        if (EPOCH(today) in data) {
                            if (data[EPOCH(today)]) {
                                UI.write("description", "You reached your goal");
                            } else {
                                UI.write("description", "You didn't reach your goal");
                            }
                        } else {
                            UI.write("description", "No status provided");
                        }

                        // Update click listener
                        UI.find("update").addEventListener("click", () => {
                            // Create dialog
                            Dialog.confirm("Did you acheive your goal today?").then(
                                () => {
                                    API.call("goalie", "update", {
                                        token: localStorage.token,
                                        day: EPOCH(today),
                                        status: true
                                    }).then(
                                        () => {
                                            // Reload page
                                            location.reload();
                                        }
                                    );
                                }
                            ).catch(
                                () => {
                                    API.call("goalie", "update", {
                                        token: localStorage.token,
                                        day: EPOCH(today),
                                        status: false
                                    }).then(
                                        () => {
                                            // Reload page
                                            location.reload();
                                        }
                                    );
                                }
                            );
                        });

                        // Load months
                        let date = new Date();
                        date.setMonth(0, 1);

                        // Create temporary month holder
                        let monthIndex = 0;
                        let goalDays = 0;
                        let totalDays = 0;

                        // Loop over days
                        while (EPOCH(date) <= EPOCH(today)) {
                            // Add a widget
                            if (date.getMonth() !== monthIndex) {
                                // Add the month to the calendar
                                UI.find("calendar").appendChild(UI.populate("month-previous", {
                                    month: MONTH[monthIndex],

                                    goal: goalDays,
                                    total: totalDays
                                }));

                                // Reset statistics
                                goalDays = 0;
                                totalDays = 0;
                            }

                            // Update the month index
                            monthIndex = date.getMonth();

                            // Add one to the day count
                            totalDays += 1;

                            // Check for progress
                            if (EPOCH(date) in data)
                                if (data[EPOCH(date)])
                                    goalDays += 1;

                            // Increment date
                            date.setDate(date.getDate() + 1);
                        }

                        // Add the month to the calendar
                        UI.find("calendar").appendChild(UI.populate("month-current", {
                            month: MONTH[monthIndex],

                            goal: goalDays,
                            total: totalDays
                        }));
                    }
                ).catch(
                    (error) => {
                        Dialog.alert(`An error has occured: ${error}`).then(
                            () => {
                                // Delete storage
                                delete localStorage.token;
                                // Reload page
                                location.reload();
                            }
                        );
                    }
                )
                UI.view("goalie", false);
            } else {
                // Update click listener
                UI.find("continue").addEventListener("click", () => {
                    API.call("goalie", "authenticate", {
                        password: UI.read("password")
                    }).then(
                        (token) => {
                            // Update storage
                            localStorage.token = token;
                            // Reload page
                            location.reload();
                        }
                    ).catch(
                        (error) => {
                            Dialog.alert(`Authentication error: ${error}`);
                        }
                    );
                });

                // Change view
                UI.view("authenticate", false);
            }
        });
    </script>

    <!-- App Title -->
    <title>Goalie</title>

    <!-- No Script -->
    <noscript></noscript>

    <!-- Additional -->
    <template id="month-previous">
        <div style="opacity: 0.4;" row stretch>
            <!-- Month name -->
            <p small left>${month}</p>
            <!-- Month progress -->
            <p medium center>${goal} / ${total}</p>
        </div>
    </template>
    <template id="month-current">
        <div style="opacity: 1.0;" row stretch>
            <!-- Month name -->
            <p medium left>${month}</p>
            <!-- Month progress -->
            <p large center>${goal} / ${total}</p>
        </div>
    </template>
</head>

<body column>
    <div id="loading">
        <p large center>Loading...</p>
    </div>
    <div id="authenticate" hidden>
        <!-- Titles -->
        <p large center>Welcome to Goalie</p>
        <p small center>Please provide your password</p>
        <!-- Password input -->
        <input small left id="password" type="password" placeholder="Password" />
        <!-- Submit button -->
        <button small right id="continue">Continue</button>
    </div>
    <div id="goalie" hidden>
        <div id="status" stretch row>
            <!-- Status display -->
            <p small left id="description">Loading...</p>
            <!-- Update button -->
            <button small center id="update">Update</button>
        </div>
        <div id="calendar" style="height: 80vh; justify-content: flex-start;" column></div>
    </div>
</body>

</html>